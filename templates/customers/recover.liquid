{% layout none %}
<div id="recover-password-page" class="max-w-xl mx-auto p-6 bg-[#FCFBF7] rounded-lg shadow-md">
  <h2 class="text-2xl font-semibold text-[#514849] mb-4">Reset Your Password</h2>

  {% if form.errors %}
    <div class="bg-red-100 text-red-700 p-3 rounded mb-4">
      {% for field in form.errors %}
        <p>
          {{ field | capitalize }}
          {{ form.errors[field] }}
        </p>
      {% endfor %}
    </div>
  {% endif %}

  {% if form.success %}
    <div class="bg-green-100 text-green-700 p-3 rounded mb-4">Check your email for a link to reset your password.</div>
  {% else %}
    <form method="post" action="/account/recover" class="grid grid-cols-1 gap-4">
      <input type="hidden" name="form_type" value="recover_customer_password">
      <input type="hidden" name="utf8" value="✓">

      <div>
        <label for="recover-email" class="block text-[#514849] text-lg mb-2 font-medium">Email*</label>
        <input
          id="recover-email"
          name="email"
          type="email"
          placeholder="Enter Email Here"
          class="w-full text-lg text-[#797375] placeholder:text-[#797375] border border-[#E3E2E0] py-3 px-4 rounded-lg"
          required
        >
      </div>

      <div>
        <button type="submit" class="btn !py-3 !px-6 bg-[#1E6C44] text-white rounded-lg">Submit</button>
      </div>
    </form>
  {% endif %}
</div>
<!-- Toast Notification -->
<div
  id="toast"
  class="hidden fixed bottom-5 right-5 bg-green-600 text-white px-4 py-3 rounded-lg shadow-lg transition-opacity duration-300"
>
  ✅ Check your email for a reset link
</div>

<script>
  document.getElementById('recover-form')?.addEventListener('submit', function () {
    const toast = document.getElementById('toast');
    toast.classList.remove('hidden');
    toast.style.opacity = '1';

    setTimeout(() => {
      toast.style.opacity = '0';
      setTimeout(() => toast.classList.add('hidden'), 300);
    }, 4000); // Hide after 4 seconds
  });
</script>
