<div class="blog-details pt-9 pb-10 md:pb-16 lg:pb-20 2xl:pb-25">
  <div class="container">
    <!-- Breadcrumb -->
    <p class="text-lg lg:text-xl text-[#797375] flex flex-wrap xl:flex-nowrap items-center mb-5 lg:mb-6 xl:mb-8.5">
      <a href="{{ blog.url }}" class="hover:underline hover:text-[#0D2E1D] transition-all duration-300">Blog</a>
      <span>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none">
          <path d="M9.55556 17L14 12L9.55556 7" stroke="#797375" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </span>
      <span class="text-[#514849] font-medium text-sm lg:text-xl">{{ article.title }}</span>
    </p>

    <div class="blog-details-all">
      {% if section.settings.show_featured_image and article.image %}
        <div
          class="
            relative
            before:absolute before:w-full before:h-full before:left-0 before:bottom-0 before:bg-[linear-gradient(180deg,rgba(34,30,13,0.00)_66.54%,rgba(34,30,13,0.60)_100%)] before:z-1 overflow-hidden z-1 bg-[linear-gradient(180deg,_rgba(34,30,13,0.00)_66.54%,_rgba(34,30,13,0.60)_100%)] rounded-xl md:rounded-2xl lg:rounded-[20px] mb-5 lg:mb-6 xl:mb-8
          "
        >
          <h1 class="blog-title text-white text-lg max-w-275 pr-[2%] md:text-3xl lg:text-4xl xl:text-5xl absolute z-2 bottom-2 md:bottom-4 xl:bottom-6 left-2 md:left-5 lg:left-10 2xl:left-12 font-medium !leading-[1.4]">
            {{ article.title | strip_html | truncate: 70 }}
          </h1>
          <img
            src="{{ article.image | img_url: 'master' }}"
            class="w-full object-cover object-top h-80 lg:h-auto lg:aspect-[1/.455] rounded-xl md:rounded-2xl lg:rounded-[20px]"
            width=""
            height=""
            alt="{{ article.image.alt | escape }}"
            loading="lazy"
          >
        </div>
      {% endif %}

      <!-- Meta Info -->
      <div class="flex flex-col md:flex-row md:flex-nowrap flex-wrap md:items-center md:justify-between gap-5 pb-4 lg:pb-5 xl:pb-6 border-b border-b-[#E3E2E0]">
        {% if section.settings.show_author or section.settings.show_date %}
          <div class="flex items-center gap-3">
            <img
              src="https://i.pravatar.cc/100"
              class="size-13 lg:size-15 rounded-full"
              alt="{{ article.author }}"
              width=""
              height=""
            >
            <div>
              {% if section.settings.show_author %}
                <p class="text-lg lg:text-xl font-medium mb-1 text-[#0D2E1D]">{{ article.author }}</p>
              {% endif %}
              {% if section.settings.show_date %}
                <p class="text-base xl:text-lg text-[#797375]">
                  {{ article.published_at | date: section.settings.date_format }}
                </p>
              {% endif %}
            </div>
          </div>
        {% endif %}

        <div class="flex items-center gap-2 lg:gap-3">
          {% if article.tags.size > 0 %}
            <span class="text-sm !leading-[1.2] tracking-[1.64px] uppercase font-poppins text-[#514849] rounded-2xl lg:rounded-[20px] py-2.5 px-4 block bg-[#F0F0F0] border border-[#F0F0F0] max-w-max">
              {{ article.tags.first }}
            </span>
          {% endif %}
          {% assign words = article.content | strip_html | split: ' ' | size %}
          {% assign minutes = words | divided_by: 50 %}
          {% if minutes < 1 %}
            {% assign minutes = 1 %}
          {% endif %}
          <p class="text-[#103C25] text-sm m !leading-[1.2] tracking-[1.64px] uppercase font-poppins">
            {{ minutes }} min read
          </p>
        </div>

        {% if section.settings.enable_share %}
          <!-- Share -->
          <div>
            <p class="text-base lg:text-xl font-medium mb-3 lg:mb-4">Share this post</p>
            <div class="flex items-center gap-2">
              {% assign share_url = article.url | prepend: shop.url %}
              <a
                href="https://www.instagram.com/?url={{ share_url | url_encode }}"
                target="_blank"
                class="flex items-center justify-center size-8 lg:size-9 rounded-full bg-[#F0F0F0] transition-all duration-300 hover:bg-primary p-2"
              >
                <img src="{{ 'insta.svg' | asset_url }}" alt="Instagram">
              </a>
              <a
                href="https://twitter.com/share?url={{ share_url | url_encode }}&text={{ article.title | url_encode }}"
                target="_blank"
                class="flex items-center justify-center size-8 lg:size-9 rounded-full bg-[#F0F0F0] transition-all duration-300 p-2 hover:bg-primary"
              >
                <img src="{{ 'x.svg' | asset_url }}" alt="Twitter">
              </a>
              <a
                href="https://www.facebook.com/sharer/sharer.php?u={{ share_url | url_encode }}"
                target="_blank"
                class="flex items-center justify-center size-8 lg:size-9 rounded-full bg-[#F0F0F0] transition-all duration-300 p-2 hover:bg-primary"
              >
                <img src="{{ 'facebook.svg' | asset_url }}" alt="Facebook">
              </a>
            </div>
          </div>
        {% endif %}
      </div>

      <!-- Article Content + Sidebar -->
      <div class="flex flex-col md:flex-row gap-5 mt-2 md:mt-10 justify-between">
        <div class="w-full md:w-8/12">
          <div class="prose max-w-none">
            {{ article.content }}
          </div>
        </div>

        <!-- Sidebar Popular posts -->
        {% if section.settings.enable_related %}
          <div class="w-full md:w-4/12 lg:w-3/12">
            <h5 class="text-[#0D2E1D] text-2xl lg:text-3xl xl:text-4xl font-medium mb-6 lg:mb-8 mt-5">Popular Post</h5>
            <div class="card-area">
              {% assign count = 0 %}
              {% for post in blog.articles %}
                {% if post.id != article.id %}
                  <div class="mb-8 border-b border-[#F0F0F0]">
                    <div class="pb-6 bg-white rounded-lg">
                      {% if post.image %}
                        <div class="w-full aspect-[1/.68] mb-4">
                          <img
                            src="{{ post.image | img_url: '400x' }}"
                            class="size-full rounded-[10px] object-cover object-top"
                            alt="{{ post.title }}"
                            width=""
                            height=""
                          >
                        </div>
                      {% endif %}
                      <div class="px-1">
                        <p class="text-[#797375] text-sm mb-2.5">
                          {{ post.published_at | date: '%d %B, %Y' }}
                          <span class="text-[#103C25] uppercase">BY {{ post.author }}</span>
                        </p>
                        <h6 class="text-[#0D2E1D] text-lg font-medium mb-3">
                          {{ post.title | strip_html | truncate: 55 }}
                        </h6>
                        <p class="text-[#514849] text-sm mb-4">
                          {{ post.excerpt | strip_html | truncatewords: 15 }}
                        </p>
                        <a
                          href="{{ post.url }}"
                          class="text-[#967901] text-sm font-medium group hover:text-[#0D2E1D] flex items-center gap-2"
                        >
                          Learn More
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            width="17"
                            height="13"
                            fill="none"
                            class="group-hover:translate-x-0.5 transition-all duration-300"
                          >
                            <path d="M10.332 1L15.832 6.5M15.832 6.5L10.332 12M15.832 6.5L1.16536 6.5" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                          </svg>
                        </a>
                      </div>
                    </div>
                  </div>
                  {% assign count = count | plus: 1 %}
                  {% if count >= section.settings.related_limit %}
                    {% break %}
                  {% endif %}
                {% endif %}
              {% endfor %}
            </div>
          </div>
        {% endif %}
      </div>
    </div>
  </div>
</div>
<style>
  .blog-details .prose h1 {
    color: {{ section.settings.h1_color }};
    font-size: {{ section.settings.h1_size_desktop }}px;
    font-weight: {{ section.settings.h1_weight }};
    margin-top: {{ section.settings.h1_margin_top }}px;
    margin-bottom: {{ section.settings.h1_margin_bottom }}px;
  }
  .blog-details .prose h2 {
    color: {{ section.settings.h2_color }};
    font-size: {{ section.settings.h2_size_desktop }}px;
    font-weight: {{ section.settings.h2_weight }};
    margin-top: {{ section.settings.h2_margin_top }}px;
    margin-bottom: {{ section.settings.h2_margin_bottom }}px;
  }
  .blog-details .prose h3 {
    color: {{ section.settings.h3_color }};
    font-size: {{ section.settings.h3_size_desktop }}px;
    font-weight: {{ section.settings.h3_weight }};
    margin-top: {{ section.settings.h3_margin_top }}px;
    margin-bottom: {{ section.settings.h3_margin_bottom }}px;
  }
  .blog-details .prose h4 {
    color: {{ section.settings.h4_color }};
    font-size: {{ section.settings.h4_size_desktop }}px;
    font-weight: {{ section.settings.h4_weight }};
    margin-top: {{ section.settings.h4_margin_top }}px;
    margin-bottom: {{ section.settings.h4_margin_bottom }}px;
  }
  .blog-details .prose h5 {
    color: {{ section.settings.h5_color }};
    font-size: {{ section.settings.h5_size_desktop }}px;
    font-weight: {{ section.settings.h5_weight }};
    margin-top: {{ section.settings.h5_margin_top }}px;
    margin-bottom: {{ section.settings.h5_margin_bottom }}px;
  }
  .blog-details .prose p {
    color: {{ section.settings.p_color }};
    font-size: {{ section.settings.p_size_desktop }}px;
    font-weight: {{ section.settings.p_weight }};
    margin-top: {{ section.settings.p_margin_top }}px;
    margin-bottom: {{ section.settings.p_margin_bottom }}px;
  }
  /* H3–H6 + P same pattern */

  @media screen and (max-width:1024px){
    .blog-details .prose h1 { font-size: {{ section.settings.h1_size_tablet }}px; }
    .blog-details .prose h2 { font-size: {{ section.settings.h2_size_tablet }}px; }
    .blog-details .prose h3 { font-size: {{ section.settings.h3_size_tablet }}px; }
    .blog-details .prose h4 { font-size: {{ section.settings.h4_size_tablet }}px; }
    .blog-details .prose h5 { font-size: {{ section.settings.h5_size_tablet }}px; }
    .blog-details .prose p { font-size: {{ section.settings.p_size_tablet }}px; }
    /* H3–H6 + P tablet sizes */
  }

  @media screen and (max-width:768px){
    .blog-details .prose h1 { font-size: {{ section.settings.h1_size_mobile }}px; }
    .blog-details .prose h2 { font-size: {{ section.settings.h2_size_mobile }}px; }
    .blog-details .prose h3 { font-size: {{ section.settings.h3_size_mobile }}px; }
    .blog-details .prose h4 { font-size: {{ section.settings.h4_size_mobile }}px; }
    .blog-details .prose h5 { font-size: {{ section.settings.h5_size_mobile }}px; }
    .blog-details .prose 0 { font-size: {{ section.settings.p_size_mobile }}px; }
    /* H3–H6 + P mobile sizes */
  }

  .blog-details .prose img{
    margin-bottom: 30px;
    border-radius: 10px;
  }
</style>

{% schema %}
{
  "name": "Article Details",
  "settings": [
    { "type": "checkbox", "id": "show_author", "label": "Show Author", "default": true },
    { "type": "checkbox", "id": "show_date", "label": "Show Date", "default": true },
    { "type": "text", "id": "date_format", "label": "Date Format", "default": "%B %d, %Y" },
    { "type": "checkbox", "id": "show_tags", "label": "Show Tags", "default": true },
    { "type": "checkbox", "id": "show_featured_image", "label": "Show Featured Image", "default": true },
    { "type": "checkbox", "id": "enable_share", "label": "Enable Share Buttons", "default": true },
    { "type": "checkbox", "id": "enable_related", "label": "Show Related Articles", "default": true },
    {
      "type": "range",
      "id": "related_limit",
      "label": "Number of Related Articles",
      "min": 1,
      "max": 6,
      "step": 1,
      "default": 3
    },

    // H1
    { "type": "color", "id": "h1_color", "label": "H1 Color", "default": "#0D2E1D" },
    { "type": "number", "id": "h1_size_desktop", "label": "H1 Size Desktop (px)", "default": 36 },
    { "type": "number", "id": "h1_size_tablet", "label": "H1 Size Tablet (px)", "default": 30 },
    { "type": "number", "id": "h1_size_mobile", "label": "H1 Size Mobile (px)", "default": 24 },
    {
      "type": "select",
      "id": "h1_weight",
      "label": "H1 Weight",
      "options": [
        { "value": "400", "label": "400" },
        { "value": "500", "label": "500" },
        { "value": "600", "label": "600" },
        { "value": "700", "label": "700" }
      ],
      "default": "600"
    },
    { "type": "number", "id": "h1_margin_top", "label": "H1 Margin Top (px)", "default": 0 },
    { "type": "number", "id": "h1_margin_bottom", "label": "H1 Margin Bottom (px)", "default": 0 },

    // H2
    { "type": "color", "id": "h2_color", "label": "H2 Color", "default": "#0D2E1D" },
    { "type": "number", "id": "h2_size_desktop", "label": "H2 Size Desktop (px)", "default": 32 },
    { "type": "number", "id": "h2_size_tablet", "label": "H2 Size Tablet (px)", "default": 28 },
    { "type": "number", "id": "h2_size_mobile", "label": "H2 Size Mobile (px)", "default": 24 },
    {
      "type": "select",
      "id": "h2_weight",
      "label": "H2 Weight",
      "options": [
        { "value": "400", "label": "400" },
        { "value": "500", "label": "500" },
        { "value": "600", "label": "600" },
        { "value": "700", "label": "700" }
      ],
      "default": "600"
    },
    { "type": "number", "id": "h2_margin_top", "label": "H2 Margin Top (px)", "default": 0 },
    { "type": "number", "id": "h2_margin_bottom", "label": "H2 Margin Bottom (px)", "default": 0 },

    // H3
    { "type": "color", "id": "h3_color", "label": "H3 Color", "default": "#0D2E1D" },
    { "type": "number", "id": "h3_size_desktop", "label": "H3 Size Desktop (px)", "default": 28 },
    { "type": "number", "id": "h3_size_tablet", "label": "H3 Size Tablet (px)", "default": 24 },
    { "type": "number", "id": "h3_size_mobile", "label": "H3 Size Mobile (px)", "default": 20 },
    {
      "type": "select",
      "id": "h3_weight",
      "label": "H3 Weight",
      "options": [
        { "value": "400", "label": "400" },
        { "value": "500", "label": "500" },
        { "value": "600", "label": "600" },
        { "value": "700", "label": "700" }
      ],
      "default": "600"
    },
    { "type": "number", "id": "h3_margin_top", "label": "H3 Margin Top (px)", "default": 0 },
    { "type": "number", "id": "h3_margin_bottom", "label": "H3 Margin Bottom (px)", "default": 0 },

    // H4–H6 (similar pattern)
    { "type": "color", "id": "h4_color", "label": "H4 Color", "default": "#0D2E1D" },
    { "type": "number", "id": "h4_size_desktop", "label": "H4 Size Desktop (px)", "default": 24 },
    { "type": "number", "id": "h4_size_tablet", "label": "H4 Size Tablet (px)", "default": 20 },
    { "type": "number", "id": "h4_size_mobile", "label": "H4 Size Mobile (px)", "default": 18 },
    {
      "type": "select",
      "id": "h4_weight",
      "label": "H4 Weight",
      "options": [
        { "value": "400", "label": "400" },
        { "value": "500", "label": "500" },
        { "value": "600", "label": "600" },
        { "value": "700", "label": "700" }
      ],
      "default": "600"
    },
    { "type": "number", "id": "h4_margin_top", "label": "H4 Margin Top (px)", "default": 0 },
    { "type": "number", "id": "h4_margin_bottom", "label": "H4 Margin Bottom (px)", "default": 0 },

    { "type": "color", "id": "h5_color", "label": "H5 Color", "default": "#0D2E1D" },
    { "type": "number", "id": "h5_size_desktop", "label": "H5 Size Desktop (px)", "default": 20 },
    { "type": "number", "id": "h5_size_tablet", "label": "H5 Size Tablet (px)", "default": 18 },
    { "type": "number", "id": "h5_size_mobile", "label": "H5 Size Mobile (px)", "default": 16 },
    {
      "type": "select",
      "id": "h5_weight",
      "label": "H5 Weight",
      "options": [
        { "value": "400", "label": "400" },
        { "value": "500", "label": "500" },
        { "value": "600", "label": "600" },
        { "value": "700", "label": "700" }
      ],
      "default": "600"
    },
    { "type": "number", "id": "h5_margin_top", "label": "H5 Margin Top (px)", "default": 0 },
    { "type": "number", "id": "h5_margin_bottom", "label": "H5 Margin Bottom (px)", "default": 0 },

    { "type": "color", "id": "h6_color", "label": "H6 Color", "default": "#0D2E1D" },
    { "type": "number", "id": "h6_size_desktop", "label": "H6 Size Desktop (px)", "default": 18 },
    { "type": "number", "id": "h6_size_tablet", "label": "H6 Size Tablet (px)", "default": 16 },
    { "type": "number", "id": "h6_size_mobile", "label": "H6 Size Mobile (px)", "default": 14 },
    {
      "type": "select",
      "id": "h6_weight",
      "label": "H6 Weight",
      "options": [
        { "value": "400", "label": "400" },
        { "value": "500", "label": "500" },
        { "value": "600", "label": "600" },
        { "value": "700", "label": "700" }
      ],
      "default": "600"
    },
    { "type": "number", "id": "h6_margin_top", "label": "H6 Margin Top (px)", "default": 0 },
    { "type": "number", "id": "h6_margin_bottom", "label": "H6 Margin Bottom (px)", "default": 0 },

    // Paragraph
    { "type": "color", "id": "p_color", "label": "Paragraph Color", "default": "#514849" },
    { "type": "number", "id": "p_size_desktop", "label": "Paragraph Size Desktop (px)", "default": 16 },
    { "type": "number", "id": "p_size_tablet", "label": "Paragraph Size Tablet (px)", "default": 15 },
    { "type": "number", "id": "p_size_mobile", "label": "Paragraph Size Mobile (px)", "default": 14 },
    {
      "type": "select",
      "id": "p_weight",
      "label": "Paragraph Weight",
      "options": [
        { "value": "400", "label": "400" },
        { "value": "500", "label": "500" },
        { "value": "600", "label": "600" },
        { "value": "700", "label": "700" }
      ],
      "default": "400"
    },
    { "type": "number", "id": "p_margin_top", "label": "Paragraph Margin Top (px)", "default": 0 },
    { "type": "number", "id": "p_margin_bottom", "label": "Paragraph Margin Bottom (px)", "default": 0 }
  ]
}
{% endschema %}
