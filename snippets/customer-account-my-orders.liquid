<div class="flex flex-col md:flex-row flex-wrap md:flex-nowrap items-center justify-between gap-4 mb-5 md:mb-6 xl:mb-7.5">
  <h2 class="text-[#21201E] text-2xl lg:text-3xl xl:text-[36px] font-medium !leading-[1.2] font-poppins">
    My Orders ({{ customer.orders.size }})
  </h2>
</div>

{% if customer.orders.size > 0 %}
  {% for order in customer.orders %}
    <div class="rounded-xl lg:rounded-2xl bg-[#B7D6C6] p-4 lg:p-5 3xl:p-7.5 mb-8 md:mb-10 lg:mb-12 xl:mb-15">
      <div class="flex flex-col xl:flex-row flex-wrap xl:flex-nowrap items-center gap-4 lg:gap-5 mb-4 lg:mb-5 xl:mb-6">
        <div class="w-36.5 h-39">
          {% if order.line_items.first.image %}
            <img
              src="{{ order.line_items.first.image | img_url: '200x200' }}"
              class="size-full rounded-[10px]"
              width="200"
              height="200"
              alt="{{ order.line_items.first.title }}"
            >
          {% else %}
            <img
              src="/assets/product-placeholder.png"
              class="size-full rounded-[10px]"
              width="200"
              height="200"
              alt="Product"
            >
          {% endif %}
        </div>
        <div class="w-full">
          <div class="md:flex items-center justify-between gap-3 mb-5 md:mb-6 lg:mb-7.5 xl:mb-8.5">
            <h6 class="mb-4 md:mb-0 text-xl lg:text-2xl font-medium !leading-[#0D2E1D] text-green">
              {{ order.line_items.first.title }}
            </h6>
            <p class="text-lg lg:text-xl !leading-[1.2] text-[#514849]">
              Total: <span class="font-medium text-[#0D2E1D]">{{ order.total_price | money }}</span>
            </p>
          </div>
          <div class="md:flex items-center justify-between gap-3 mb-4 lg:mb-5 xl:mb-6">
            <p class="mb-4 md:mb-0 text-lg lg:text-xl !leading-[1.2] text-[#514849]">
              Quantity: <span class="font-medium text-[#0D2E1D]">{{ order.line_items.first.quantity }}</span>
            </p>
            <p class="text-lg lg:text-xl !leading-[1.2] text-[#514849]">
              Date: <span class="font-medium text-[#0D2E1D]">{{ order.created_at | date: '%B %d, %Y' }}</span>
            </p>
          </div>
          <div class="md:flex items-center justify-between gap-3">
            <p class="mb-4 md:mb-0 text-lg lg:text-xl !leading-[1.2] text-[#514849]">
              Status: <span class="font-medium text-[#0D2E1D]">{{ order.financial_status }}</span>
            </p>
            <p class="text-lg lg:text-xl !leading-[1.2] text-[#514849]">
              Order ID: <span class="font-medium text-[#0D2E1D]">{{ order.name }}</span>
            </p>
          </div>
        </div>
      </div>
      <div class="flex flex-col md:flex-row flex-wrap md:flex-nowrap md:items-center gap-4 lg:gap-5 mb-5 lg:mb-6 xl:mb-8">
        <span class="md:block text-[#1E6C44] text-lg lg:text-xl max-w-max font-poppins border border-[#B7D6C6] rounded-3xl lg:rounded-[34px] bg-[rgba(30,108,68,0.10)] py-2 lg:py-2.5 px-3 lg:px-4">
          {{ order.fulfillment_status | default: 'Pending' }}
        </span>
      </div>
      <div class="md:flex items-center justify-between gap-4 mb-4 md:mb-0">
        <div class="flex-col md:flex-row flex-wrap md:flex-nowrap items-center gap-4 lg:gap-5 mb-4 md:mb-0">
          <a href="{{ order.status_url }}" class="btn w-full md:w-auto mb-4 md:mb-0">View Order</a>
        </div>
      </div>
    </div>
  {% endfor %}
{% else %}
  <div class="py-8">
    <p class="text-lg text-[#514849]">You haven't placed any orders yet.</p>
    <a href="{{ routes.all_products_collection_url }}" class="btn mt-4">Start Shopping</a>
  </div>
{% endif %}
